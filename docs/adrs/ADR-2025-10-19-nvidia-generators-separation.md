# ADR: Разделение генераторов NVIDIA (GTX/RTX и GT) и строгий URL seed

- Дата: 2025-10-19
- Статус: Accepted

## Контекст

Изначально планировалось единым генератором покрыть все линейки NVIDIA (GT/GTX/RTX). Однако GT-сегмент (офис/HTPC) существенно отличается по логике от GTX/RTX (игровые, высокопроизводительные): шина, тип памяти, TDP, разъёмы, частоты, цена и назначение. Поддержка всех веток в одном скрипте повышала сложность и риск нелогичных комбинаций. Также URL seed включал модели, не подходящие под общие правила (GT 710/730/740/1030, TITAN и др.).

## Решение

- Разделить генераторы:
  - `generate_gpu_nvidia.py` — только GTX/RTX (GTX 9x0/10x0/16x0; RTX 20x0/30x0/40x0/50x0), классы 1–7, Ti/Super, партнёры AIB.
  - `generate_gpu_nvidia_gt.py` — только GT (610/710/720/730/740/1010/1030), низкопрофильные/пассивные конфигурации, низкая мощность.
- Строгая фильтрация URL seed:
  - В GTX/RTX-генераторе игнорировать все, кроме `geforce-gtx-*`/`geforce-rtx-*` с четырёхзначными номерами, оканчивающимися на 50/60/70/80/90. Исключить GT и TITAN.
  - В GT-генераторе использовать только `geforce-gt-*` и принимать перечисленные GT модели. При отсутствии — fallback список.

## Аргументы

- Соответствие философии "Absurdly Ideal Code":
  - Simplicity: уменьшение избыточной сложности и ветвления.
  - Reliability: меньше рисков некорректных сочетаний атрибутов.
  - Performance: более простые генераторы — меньше вычислительных веток.
  - Readability: явная граница ответственности.
- Масштабируемость: проще добавлять специфичную логику для каждой ветки.

## Последствия

- Поддерживаемость выше за счёт чётких границ.
- Реализм данных выше (GT без RT/Tensor, чаще без питания, DDR3/DDR4/узкая шина; RTX — с RT/Tensor, 12VHPWR и т.п.).
- URL seed перестал приводить к ложным интерпретациям GT/TITAN в игровом генераторе.

## Альтернативы

- Единый генератор с флагами: отвергнуто из-за роста сложности и ухудшения читаемости.

## Реализация

- Добавлены скрипты: `generate_gpu_nvidia.py` (обновлённая фильтрация URL seed), `generate_gpu_nvidia_gt.py` (новый).
- Обновлена документация: `scripts/data_generation/README.md`, `docs/data-generation.md`, `docs/setup.md`.
