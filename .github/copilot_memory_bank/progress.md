# Прогресс разработки базы данных WinStore

## Выполненные задачи

1. **Создание начальной структуры базы данных** - Разработана и внедрена базовая структура базы данных WinStore с основными таблицами для хранения информации о пользователях, товарах, заказах и прочем.

2. **Оптимизация и рефакторинг структуры БД** - Проведен анализ и оптимизация существующей структуры базы данных для улучшения производительности и обслуживаемости:
   - Перенос бизнес-логики из триггеров в прикладной слой
   - Упрощение модели данных для системы доставки
   - Внедрение справочных таблиц для управления статусами
   - Нормализация таблицы `Payments`
   - Стандартизация типов данных для строк

3. **Разработка представлений (views)** - Созданы представления для удобного доступа к данным о видеокартах, процессорах и оперативной памяти.

4. **Разработка хранимых процедур** - Созданы базовые хранимые процедуры для работы с данными, включая:
   - Работу с товарами и их атрибутами (`sp_InsertProductWithAttributes`)
   - Работу со списками желаний (`sp_AddToWishlist`, `sp_GetWishlist`)
   - Работу с промоакциями (`sp_AssociatePromoWithOrder`, `sp_GetPromotionDetails`)
   - Работу с медиафайлами товаров (`sp_AddProductMedia`)
   - Создание и обработку заказов

## Текущие задачи

1. **Адаптация прикладного уровня** - Модификация кода backend-приложения для реализации бизнес-логики, вынесенной из базы данных.

2. **Интеграция с Django ORM** - Настройка моделей Django для работы с обновленной структурой базы данных.

3. **Интеграция с Directus** - Настройка Directus для работы с обновленной структурой базы данных.

## Предстоящие задачи

1. **Тестирование производительности** - Провести тестирование производительности обновленной структуры базы данных и при необходимости внести дополнительные оптимизации.

2. **Документирование API** - Создание документации по API для разработчиков frontend-приложений.

3. **Внедрение дополнительных индексов** - Анализ запросов и создание дополнительных индексов для улучшения производительности на основе реальных паттернов запросов.
